<html>
    <head>
         <meta name = "viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <title>Aaron Hietanen</title>

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" type="text/css" href="index.css">
        <style>
            
.iframe-container{
  position: relative;
  width: 100%;
  padding-bottom: 56.25%; 
  height: 0;
}
.iframe-container iframe{
  position: absolute;
  top:0;
  left: 0;
  width: 100%;
  height: 100%;
}
        </style>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    </head>
    <body>
            <header></header>
        <div class = "container">

            <div class = "row">
                <div class = "col s12 l8">
                    <div class="card">
                          <nav>
                            <div class="nav-wrapper">
                              <div class="col s12">
                                <a href="index.html" class="breadcrumb">Home</a>
                                <a href="portfolio.html" class="breadcrumb">Portfolio</a>
                                <a href="#!" class="breadcrumb">4-in-1 Arduino Game Console</a>
                              </div>
                            </div>
                          </nav>

                        <div class="card-content">

                            <div class = "row">

                                    <div class="iframe-container center"> <iframe src="https://www.youtube.com/embed/Ntu2x6QbQaw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> </div>
                            </div>
                            <h2 class="center">4-in-1 Arduino Game Console</h2> 
                            <blockquote>           
                                <p>
                                This was a project made for my Embeded Systems class.  I used a 32x32 RGB LED matrix, some flex sensors, an AVR, and a 6 DOF motion sensor.
                                </p>
                            </blockquote>
                                <br>

                                <p>
                                </p>
                                <br>
                                <h5>The Menu</h5>

                                <div class="row">
                                    <div class="col s6">
                                        <img class="responsive-img" src="https://i.imgur.com/O5btRiu.jpg"/>
                                    </div>
                                    <div class="col s6">
                                        <img class="responsive-img" src="https://i.imgur.com/USO7Rz0.jpg?1"/>
                                    </div>

                                </div>

                                <br>

                                <h5>The Controls</h5>


                                <p>
                                I designed this project to work with a number of control schemes, including flex-sensor-based glove controls, tilt based controls, and a standard button based controller. 

                                </p>
                                <div >
                                <img class="responsive-img" src="https://i.imgur.com/wIYymoi.jpg?1"/>
                                </div>        

                                <p>
                                    The controller is managed by an ATMega chip, which communicates with the 6-DOF sensor next to it.  The buttons are arranged similar to a NES controller, with directional buttons on the left, and two other buttons on the far right.  The center button is used to change input modes.   
                                </p>
                                <br>
                                <p>
                                The controller is connected to the Arduino over six wires (top), two are for +5V and ground, and the other four are used to communicate with the arduino.  The AVR is set up to be the master, and the arduino slave.  The AVR constantly outputs the current controller state over these four wires, four bits in parellel.  The arduino listens to these values and updates the gamestate accordingly. 

                                </p>
                                <br>
                                <p>
                                The Arduino, on the other hand, is responsible for manageing the game state and controlling the output on the LED matrix.
                                </p>
                                <br>
                                <br>
                                <h5>The Games</h5>
                                    <div class="iframe-container center"> <iframe src="https://www.youtube.com/embed/OGPWrnw8Z20" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> </div>

                                <br>
                                <p>
                                Easily the most challenging part about this project was that after importing the library to run the RGB matrix, I was left with just under 100 bytes of memory to work with.  I had plenty of program space, but the memory was my biggest constraint.  I made each game run separately, so that each could use the ~100 bytes independantly.
                                </p>
                                <br>
                                <p>
                                For tetris, I made the board 16X8 pixels, and if I had used a byte for each pixel, I would have gone well over the limit on the board alone.  I realized that with seven possible pieces, there where eight possible states for each pixel to be in (7 pieces plus the empty state).  Sice I didn't need to keep track of the pieces after they had been placed, I could use just three bits to represent each pixel.  Of course, I needed to do some bit shifting to read and write that data, but I was able to compress the board size to just 48 bytes.     
                                </p>
                                <br>
                                <p>
                                    For the pieces, I just needed 16 bits to represent a 4x4 shape mask (along with three bits to represent color), which I could compare against the board to see if a piece could move to a given location.  Everything else was static and could be stored in porgram memory.

                                </p>
                                <br>
                                <br>
                                <p>
                                Tic-Tac-Toe:
                                </p>
                                <div class="row">
                                    <div class="col s4">
                                        <img class="responsive-img" src="https://i.imgur.com/13hwLWH.jpg?1"/>
                                    </div>
                                    <div class="col s4">
                                        <img class="responsive-img" src="https://i.imgur.com/nk0F8Uc.jpg?1"/>
                                    </div>
                                    <div class="col s4">
                                        <img class="responsive-img" src="https://i.imgur.com/PK3mBS4.jpg?1"/>
                                    </div>
                                </div>


                                <p>"Pac-Man"</p>
                                <img class="responsive-img" src="https://i.imgur.com/XOYlgCe.jpg?1"/>
                                <p>The Pac man game I made was relitivly simplistic.  You were a yellow sqare that moved around a maze, collecting yellow dots.  I never ended up implementing enemies or even a win condition.</p>


                        </div>
                    </div>
                </div>
                <div class="col l4">
                    <div class="card">

                        <div class="card-content">

                    <a href="https://github.com/Ashaka110/ECE387-Final-GameConsole" class="waves-effect waves-light btn"><i class="fab fa-github"></i> Source Code</a>

                    <div style="height: 20px"></div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function(){
                $('header').load('head.html');
            })
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    </body>
</html>
